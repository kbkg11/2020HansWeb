<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="../css/style.css" />

    <title>table modal Ex</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.0.min.js" ></script>
    <script> 
      $(document).ready(function(){ 
      var sw; 

      $('#open').click(function(){ //오픈 버튼을 눌렀을 경우
      $('.modal').removeClass('hidden');
      var sw = 0;
      })
      
      $('.modifyBtn').click(function(){ //수정 버튼을 눌렀을 경우
      $('.modal').removeClass('hidden');
      var sw = 1;
      })

      $('#modalWriteSubmitBtn').click(function(){ // ✔️ 버튼을 눌렀을 경우
      if(sw == 1){
        
      }else{
        $('.modal').addClass('hidden');
      var my_tbody = document.getElementById("my-tbody");
      var row = my_tbody.insertRow(my_tbody.rows.length);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      var cell3 = row.insertCell(2);
      var cell4 = row.insertCell(3);
      var cell5 = row.insertCell(4);
      var cell6 = row.insertCell(5);
      cell1.innerHTML = "<input type='checkbox'/>";
      
      const writeCategory = document.getElementById("write-category");
      cell2.innerHTML = writeCategory.options[writeCategory.selectedIndex].text;
      const writeTitle = document.getElementById("write-title");
      cell3.innerHTML = writeTitle.value;
      const writeWriter = document.getElementById("write-writer");
      cell4.innerHTML = writeWriter.value;
      let today = new Date();
      let year = today.getFullYear();
      let month = today.getMonth() + 1;
      let date = today.getDate();
      cell5.innerHTML = year + "-" + month + "-" + date;
      }
    
       
 

      })
      
      
      $('#modalWriteCloseBtn').click(function(){ // ❌ 버튼을 눌렀을 경우
      $('.modal').addClass('hidden');
      })



    $('.delBtn').click(function(){ //선택된 테이블 삭제
            alert("확인");
                           
          
            $('input[type=checkbox]:checked').each(function(index){               
                     
                   
                   var clickedRow = $(this).parent().parent();   
                   var clickedRowNext = clickedRow.next("tr");                     
                   clickedRow.remove();
                   clickedRowNext.remove();                        
                                     
                              
      }      );        
   
  })


      })
    </script>
  </head>

  <body>
    <main class="contents">
      <h1 class="pageTitle">Board</h1>
      <div class="timeViewer">
        <h2></h2>
      </div>
      <table id="boardTable" class="boardTable">
        <colgroup>
          <col width="5%" />
          <col width="13%" />
          <col width="*%" />
          <col width="10%" />
          <col width="12%" />
          <col width="13%" />
        </colgroup>
        <thead>
          <tr>
            <th>선택</th>
            <th>카테고리</th>
            <th>제목</th>
            <th>이름</th>
            <th>날짜</th>
            <th>수정/삭제</th>
          </tr>
        </thead>

        <tbody id="my-tbody"></tbody>
        
        <thead>
        <tr>
          <td><input type="checkbox" /></td>
          <td id="a">유머</td>
          <td id="b">제목11111111111111111111111111111111111111111</td>
          <td id="c">fkfkfk9</td>
          <td>2019-3-1</td>
          <td>
            <input type="button" value="수정" class="modifyBtn" id="modifyBtn"/>

          <input
              type="button"
              value="삭제"
              class="delBtn"
            />
          </td>
        </tr>
 </thead>
        <tr>
          <td><input type="checkbox" /></td>
          <td>스포츠</td>
          <td>제목222222222222222222222222222222222222222</td>
          <td>fkfkfk9</td>
          <td>2019-2-1</td>
          <td>
            <input type="button" value="수정" class="modifyBtn" id="modifyBtn" /><input
            type="button"
            value="삭제"
            class="delBtn"
          />
          </td>
        </tr>
    </thead>

         <thead>
        <tr>
          <td><input type="checkbox" /></td>
          <td>건강</td>
          <td>제목3333333333333333333333333333333333333333</td>
          <td>fkfkfk9</td>
          <td>2019-1-1</td>
          <td>
            <input type="button" value="수정" class="modifyBtn" id="modifyBtn"  />
          <input
            type="button"
            value="삭제"
            class="delBtn"
          />
          </td>
        </tr>
    </thead>
        

      </table>
    </main>
    <div class="btn-box">
      <input type="button" value="글쓰기" id="open" />
      <input
        type="button"
        value="선택삭제"
      id="checkDelBtn"
      />
    </div>

    <!-- 모달을 만들어줄 박스 -->
    <div class="modal hidden">
      <!-- 모달의 배경 스타일을 만들어줄 구간 -->
      <div class="modalBox_write_body"></div>
      <!-- 모달창에 들어갈 내용 -->
      <div class="write_section">
        <ul class="write-list">
          <li class="write-item">
            <h1></h1>
          </li>
          <li class="write-item">
            <select id="write-category">
              <option value="humor">유머</option>
              <option value="game">게임</option>
              <option value="health">건강</option>
              <option value="sports">스포츠</option>
            </select>
          </li>
          <li class="write-item">
            <input type="text" id="write-title" placeholder="제목" />
          </li>
          <li class="write-item">
            <input type="text" id="write-writer" placeholder="작성자" />
          </li>
          <li class="write-item">
            <button id="modalWriteSubmitBtn" class="btn">✔️</button>
          </li>
          <li class="write-item">
            <button id="modalWriteCloseBtn" class="btn">❌</button>
          </li>
        </ul>
      </div>
    </div>


    <!-- < src="../js/index.js"></> -->
   
  </body>
</html>

